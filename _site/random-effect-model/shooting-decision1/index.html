<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Shooting Decision Model - Recovery Study | Cognitive Models</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="Shooting Decision Model - Recovery Study" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Pleskac, Cesario and Johnson (2017) examined a thorny issue in U.S.A (Wong, 2016; Chinese Community Reels After Brooklyn NYPD Shooting, 2014; American’s police on trial, 2014), whether a police officer’s decision, to shoot or not to shoot, is affected by the race of a shooting target and many other related factors. This is an important question that cognitive experiments might be able to provide some insights. They analyzed four data sets with the hierarchical Wiener diffusion model. They kindly provide their data and JAGS codes at their project OSF. You may also want to read their article, which describes the findings. A previous study, fitting data from also a first-person-shooter task with fixed-effect DDM, is reported in Correll, Wittenbrink, Crawford and Sadler (2015)." />
<meta property="og:description" content="Pleskac, Cesario and Johnson (2017) examined a thorny issue in U.S.A (Wong, 2016; Chinese Community Reels After Brooklyn NYPD Shooting, 2014; American’s police on trial, 2014), whether a police officer’s decision, to shoot or not to shoot, is affected by the race of a shooting target and many other related factors. This is an important question that cognitive experiments might be able to provide some insights. They analyzed four data sets with the hierarchical Wiener diffusion model. They kindly provide their data and JAGS codes at their project OSF. You may also want to read their article, which describes the findings. A previous study, fitting data from also a first-person-shooter task with fixed-effect DDM, is reported in Correll, Wittenbrink, Crawford and Sadler (2015)." />
<link rel="canonical" href="http://localhost:4000/random-effect-model/shooting-decision1/" />
<meta property="og:url" content="http://localhost:4000/random-effect-model/shooting-decision1/" />
<meta property="og:site_name" content="Cognitive Models" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-12-19T03:53:29+00:00" />
<script type="application/ld+json">
{"@type":"Article","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/siteicon.png"}},"url":"http://localhost:4000/random-effect-model/shooting-decision1/","headline":"Shooting Decision Model - Recovery Study","dateModified":"2018-12-19T03:53:29+00:00","datePublished":"2018-12-19T03:53:29+00:00","description":"Pleskac, Cesario and Johnson (2017) examined a thorny issue in U.S.A (Wong, 2016; Chinese Community Reels After Brooklyn NYPD Shooting, 2014; American’s police on trial, 2014), whether a police officer’s decision, to shoot or not to shoot, is affected by the race of a shooting target and many other related factors. This is an important question that cognitive experiments might be able to provide some insights. They analyzed four data sets with the hierarchical Wiener diffusion model. They kindly provide their data and JAGS codes at their project OSF. You may also want to read their article, which describes the findings. A previous study, fitting data from also a first-person-shooter task with fixed-effect DDM, is reported in Correll, Wittenbrink, Crawford and Sadler (2015).","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

		<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Cognitive Models" />

		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Open+Sans:400,400italic,600,600italic,700,700italic|Inconsolata:400,700">
		<link rel="stylesheet" href="/css/main.css">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="/touch-icon.png" sizes="192x192">
		<link rel="icon" type="image/png" href="/images/favicon.png">

		
	</head>

	<body>
	  <header>
	    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML"></script>
	    
			<h1>
				<a href="/"><img src="/images/emblem.svg" width="40" height="40" alt="Cognitive Models logo"></a>
				Cognitive Models
				<button type="button" class="open-nav" id="open-nav"></button>
			</h1>

			<form action="/search/" method="get">
				<input type="text" name="q" id="search-input" placeholder="Search" autofocus>
				<input type="submit" value="Search" style="display: none;">
			</form>

			<nav >
				<ul>
					<li class="nav-item top-level ">
						
						<a href="/"></a>
					</li>
				</ul>

				<ul>
					
					
						<li class="nav-item top-level ">
							
							<a href="/BUGS/hnormal/">BUGS Examples Volumn 1</a>
							<ul>
								
									<li class="nav-item "><a href="/BUGS/hnormal/">Hierarchical Normal Model</a></li>
								
									<li class="nav-item "><a href="/BUGS/seeds/">Random effect logistic regression</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/approximation/kde/">Likelihood Free Method</a>
							<ul>
								
									<li class="nav-item "><a href="/approximation/kde/">Kernel Density Estimation</a></li>
								
									<li class="nav-item "><a href="/approximation/pda/">Probability Density Approximation</a></li>
								
									<li class="nav-item "><a href="/approximation/ppda/">Parallel Probability Density Approximation</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/basics/model_array/">Modelling Basics</a>
							<ul>
								
									<li class="nav-item "><a href="/basics/model_array/">Model Array</a></li>
								
									<li class="nav-item "><a href="/basics/simulation/">Simulation</a></li>
								
									<li class="nav-item "><a href="/basics/descriptive/">Descriptive Statistics</a></li>
								
									<li class="nav-item "><a href="/basics/summary/">Summary Statistics</a></li>
								
									<li class="nav-item "><a href="/basics/mle/">Maximising Likelihoods</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/bayes-basics/theorem/">Bayesian Basics</a>
							<ul>
								
									<li class="nav-item "><a href="/bayes-basics/theorem/">Bayes' Theorem</a></li>
								
									<li class="nav-item "><a href="/bayes-basics/prior/">Prior Distribution</a></li>
								
									<li class="nav-item "><a href="/bayes-basics/likelihood/">Model Likelihood</a></li>
								
									<li class="nav-item "><a href="/bayes-basics/posterior/">Posterior Distribution</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/cognitive-model/sdt/">Cognitive Model</a>
							<ul>
								
									<li class="nav-item "><a href="/cognitive-model/sdt/">Signal Detection Model</a></li>
								
									<li class="nav-item "><a href="/cognitive-model/lba/">Linear Ballistic Accumulation Model</a></li>
								
									<li class="nav-item "><a href="/cognitive-model/ddm/">Diffusion Decision Model</a></li>
								
									<li class="nav-item "><a href="/cognitive-model/cddm/">Circular Diffusion Decision Model</a></li>
								
									<li class="nav-item "><a href="/cognitive-model/plba/">PLBA Model</a></li>
								
									<li class="nav-item "><a href="/cognitive-model/pddm/">PDDM</a></li>
								
									<li class="nav-item "><a href="/cognitive-model/lba3/">Three-accumulator LBA Model</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/fixed-effect-model/one_participant/">Fixed Effects Model</a>
							<ul>
								
									<li class="nav-item "><a href="/fixed-effect-model/one_participant/">One Participant</a></li>
								
									<li class="nav-item "><a href="/fixed-effect-model/many_participants/">Multiple Participants</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/mcmc/mcmc/">Modern Bayesian Statistics</a>
							<ul>
								
									<li class="nav-item "><a href="/mcmc/mcmc/">Markov Chain Monte Carlo</a></li>
								
									<li class="nav-item "><a href="/mcmc/rwm/">Random Walk Metropolis</a></li>
								
									<li class="nav-item "><a href="/mcmc/hastings/">Metropolis-Hastings</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level current">
							
							<a href="/random-effect-model/hlba/">Hierarchical Model</a>
							<ul>
								
									<li class="nav-item "><a href="/random-effect-model/hlba/">Hierarchical LBA Model</a></li>
								
									<li class="nav-item "><a href="/random-effect-model/hddm/">Hierarchical DDM</a></li>
								
									<li class="nav-item "><a href="/random-effect-model/hcddm/">Hierarchical Circular DDM</a></li>
								
									<li class="nav-item current"><a href="/random-effect-model/shooting-decision1/">Shooting Decision Model - Recovery Study</a></li>
								
									<li class="nav-item "><a href="/random-effect-model/shooting-decision2/">Shooting Decision Model - Empirical Data</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/sampling/genetic/">Sampling Techniques</a>
							<ul>
								
									<li class="nav-item "><a href="/sampling/genetic/">Population-based Monte Carlo</a></li>
								
									<li class="nav-item "><a href="/sampling/crossover/">Crossover</a></li>
								
									<li class="nav-item "><a href="/sampling/migration/">Migration</a></li>
								
									<li class="nav-item "><a href="/sampling/mutation/">Mutation</a></li>
								
									<li class="nav-item "><a href="/sampling/demc/">Differential Evolution Monte Carlo</a></li>
								
									<li class="nav-item "><a href="/sampling/demcmc/">Differential Evolution Markov Chain Monte Carlo</a></li>
								
									<li class="nav-item "><a href="/sampling/dgmc/">Distributed Genetic Monte Carlo</a></li>
								
							</ul>
						</li>
					
				</ul>

				<ul>
					<li class="nav-item top-level ">
						
						<a href="/changelog/">Change Log</a>
					</li>
				</ul>
			</nav>
		</header>

		<section class="main">
			<div class="page-header">
				<h2>Hierarchical Model</h2>
				<h3>Shooting Decision Model - Recovery Study</h3>
			</div>
			<article class="content">
				<p>Pleskac, Cesario and Johnson (2017) examined a thorny issue in U.S.A (Wong, 2016;
Chinese Community Reels After Brooklyn NYPD Shooting, 2014; American’s police on trial, 2014),
whether a police officer’s decision, <em>to shoot or not to shoot</em>, is
affected by the race of a shooting target and many other related factors. This is an
important question that cognitive experiments might be able to provide some insights. They
analyzed four data sets with the hierarchical Wiener diffusion model. They kindly
provide their data and JAGS codes at their project <a href="https://osf.io/9qku5/">OSF</a>. You may
also want to read their <a href="https://doi.org/10.3758/s13423-017-1369-6">article</a>, which
describes the findings. A previous study, fitting data from also a first-person-shooter
task with fixed-effect DDM, is reported in Correll, Wittenbrink, Crawford and
Sadler (2015).</p>

<p>In this tutorial, I used the data in Pleskac, Cesario and Johnson (2017) to demonstrate
how to use pMCMC to fit hierarchical Wiener diffusion to empirical data, although one
might account for the decision scenario more relatistically by using the
urgency-gating model (Cisek, Puskas, &amp; El-Murr, 2009). That says, I did not argue the urgency-
gating model is better than the HDDM, as the story about the LCA model suggested
(Miletic, Turner, Forstmann, &amp; van Maanen, 2017). Only when we put them into tests can we know
better whether the urgency-gating model is better than the HDDM to account for the shooting
decisions.</p>

<p>In the case of fitting empirical data I need to rely on other techniques, for example
<em>posterior predective check</em> (Gelman, Carlin, Stern, Dunson, Vehtari, &amp; Rubin, 2014), to 
check whether posterior distributions appropriately reflect target distributions, because 
I do not know the true data-generation mechanism.</p>

<h2 id="set-up-a-model-object">Set-up a model object</h2>
<p>First, I defined a race-threshold model,based on the stereotype findings in classic
social psychology literature (Duncan, 1976; Sagar &amp; Schofield, 1990). One question
related to this classic observation is that whether this stereotype affects
people’s decision threshold, their decision rate, or both. In the first model,I
set up a race-threshold model as model1. Below is a list of the abbreviations
for each experimental factor.</p>

<ol>
  <li>RACE: the stimulus shows a African American (A) vs. a European American (E)</li>
  <li>S: the stimulus shows one holding a gun (G) or other object (N, not a gun)</li>
  <li>R: response to “shoot” or “not” to shoot</li>
</ol>

<p>Below is a list of the abbrevations of the DDM parameters.</p>

<ol>
  <li>a: the boundary separation</li>
  <li>v: the mean of the drift rate</li>
  <li>z: the mean of the starting point of the diffusion relative to threshold separation</li>
  <li>d: differences in the non-decisional component between upper and lower threshold</li>
  <li>sz: the width of the support of the distribution of zr</li>
  <li>sv: the standard deviation of the drift rate</li>
  <li>t0: the mean of the non-decisional component of the response time</li>
  <li>st0: the width of the support of the distribution of t0</li>
</ol>

<p><em>a = RACE</em> refers to the model assumes that the race factor affects the <em>a</em> parameter.
In R style formula, this may look like, <em>a ~ RACE</em>.</p>

<blockquote>
  <p>match.map = list(M = list(G = “shoot”, N = “not”)),</p>
</blockquote>

<p>stands for that when a trial records a stimuls type as “G”, and a response of “shoot”, it
will be coded (by <em>BuildModel</em>) as correct response (TRUE), otherwise error response
(FALSE).</p>

<blockquote>
  <p>factors = list(S = c(“G”, “N”), RACE = c(“E”, “A”)),</p>
</blockquote>

<p>stands for that experiment has two factors, S and RACE, each of them has two levels. The
former has a <em>G</em> level for holding a gun object, and a <em>N</em> level for holding a
nongun object and the latter has a <em>E</em> level for European American and and <em>A</em>
level for African American, levels.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">ggdmc</span><span class="p">)</span>
<span class="k">model</span> <span class="p">&lt;-</span> <span class="n">BuildModel</span><span class="p">(</span>
   <span class="n">p</span><span class="p">.</span><span class="n">map</span>     <span class="p">=</span> <span class="k">list</span><span class="p">(</span><span class="n">a</span> <span class="p">=</span> <span class="s2">"RACE"</span><span class="p">,</span> <span class="n">v</span> <span class="p">=</span> <span class="s2">"S"</span><span class="p">,</span> <span class="n">z</span> <span class="p">=</span> <span class="s2">"1"</span><span class="p">,</span> <span class="n">d</span> <span class="p">=</span> <span class="s2">"1"</span><span class="p">,</span> <span class="n">sz</span> <span class="p">=</span> <span class="s2">"1"</span><span class="p">,</span> <span class="n">sv</span> <span class="p">=</span> <span class="s2">"1"</span><span class="p">,</span>
                   <span class="n">t0</span> <span class="p">=</span> <span class="s2">"1"</span><span class="p">,</span> <span class="n">st0</span> <span class="p">=</span> <span class="s2">"1"</span><span class="p">),</span>
   <span class="n">match</span><span class="p">.</span><span class="n">map</span> <span class="p">=</span> <span class="k">list</span><span class="p">(</span><span class="n">M</span> <span class="p">=</span> <span class="k">list</span><span class="p">(</span><span class="n">G</span> <span class="p">=</span> <span class="s2">"shoot"</span><span class="p">,</span> <span class="n">N</span> <span class="p">=</span> <span class="s2">"not"</span><span class="p">)),</span>
   <span class="n">factors</span>   <span class="p">=</span> <span class="k">list</span><span class="p">(</span><span class="n">S</span> <span class="p">=</span> <span class="n">c</span><span class="p">(</span><span class="s2">"G"</span><span class="p">,</span> <span class="s2">"N"</span><span class="p">),</span> <span class="n">RACE</span> <span class="p">=</span> <span class="n">c</span><span class="p">(</span><span class="s2">"E"</span><span class="p">,</span> <span class="s2">"A"</span><span class="p">)),</span>
   <span class="n">constants</span> <span class="p">=</span> <span class="n">c</span><span class="p">(</span><span class="n">st0</span> <span class="p">=</span> <span class="m">0</span><span class="p">,</span> <span class="n">d</span> <span class="p">=</span> <span class="m">0</span><span class="p">),</span>
   <span class="n">responses</span> <span class="p">=</span> <span class="n">c</span><span class="p">(</span><span class="s2">"shoot"</span><span class="p">,</span> <span class="s2">"not"</span><span class="p">),</span>
   <span class="n">type</span>      <span class="p">=</span> <span class="s2">"rd"</span><span class="p">)</span>
<span class="n">npar</span> <span class="p">&lt;-</span> <span class="n">length</span><span class="p">(</span><span class="n">GetPNames</span><span class="p">(</span><span class="k">model</span><span class="p">))</span>

</code></pre></div></div>

<p>I conducted a parameter recovery study to certain that the model
can fit the data properly beforce I fit to the real data.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Population distribution
pop.mean  &lt;- c(a.E = 1.5, a.A = 2.5, v.G = 3,  v.N = 2, z = .5, sz = .3,
  sv = 1,  t0 = .2)
pop.scale &lt;- c(a.E =.5, a.A = .8, v.G = .5, v.N = .5, z = .1, sz = .1,
  sv = .3, t0=.05)
pop.prior &lt;- BuildPrior(
   dists = rep("tnorm", npar),
   p1    = pop.mean,
   p2    = pop.scale,
   lower = c(rep(0, 2), rep(-5, 2), rep(0, 4)),
   upper = c(rep(5, 2), rep(7, 2), rep(2, 4)))
</code></pre></div></div>

<p>As usual, I want to visually check if the assumed mechanism is reasonable.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plot(pop.prior)
</code></pre></div></div>

<p>I loaded the empirical data to see the trial number and participant number
in the empirical data.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>load("data/race/study3.rda")
dplyr::tbl_df(study3)
## A tibble: 12,033 x 7
##       RT     S     B     CT   RACE  R     s
##    &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt;  &lt;fct&gt;  &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;
##  1 0.753   gun  blur   safe  black not     11
##  2 0.851   non  blur   safe  white shoot   11
##  3 0.742   gun  clear  safe  black not     11
##  4 0.636   non  clear  safe  white shoot   11
##  5 0.644   gun  blur   safe  black shoot   11
##  6 0.625   non  clear  safe  black not     11
##  7 0.889   non  clear  safe  white shoot   11
##  8 0.597   gun  blur   safe  black not     11
##  9 0.724   gun  clear  safe  white not     11
## 10 0.656   non  blur   safe  white shoot   11
## ... with 12,023 more rows



</code></pre></div></div>

<p>By using the internal function <em>.N</em> in <em>data.table</em>, I knew the actual
trial number in a design cell is very small (6 to 33 trials) in study 3.
One more reason that I tested only RACE and S factor, which give
trial number between 50 to 93.  Later, I will tested another model,
which also has B and CT factors, to see whether
the HDDM still returns good estimates when the trial numbers are very
small.</p>

<ol>
  <li>s: subject id</li>
  <li>S: stimulus factor</li>
  <li>B: object factor: blurrd or clear view</li>
  <li>CT: context factor: safe or dangerous neighbor</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>study3[, .N, .(s, S, B, CT, RACE)]
## 
##       s   S     B     CT  RACE  N
##   1:  11 gun  blur   safe black 22
##   2:  11 non  blur   safe white 23
##   3:  11 gun clear   safe black 19
##   4:  11 non clear   safe white 18
##   5:  11 non clear   safe black 21
##  ---                              
## 604: 348 gun clear danger black 17
## 605: 348 non clear danger white 28
## 606: 348 gun  blur danger white 20
## 607: 348 non clear danger black 16
## 608: 348 gun  blur danger black 23

range(study3[, .N, .(s, S, B, CT, RACE)]$N)
## [1] 6 33

study3[, .N, .(s, S, RACE)]
#        s   S  RACE  N
#   1:  11 gun black 82
#   2:  11 non white 82
#   3:  11 non black 78
#   4:  11 gun white 78
#   5:  19 gun white 83
# ---                 
# 148: 344 non black 84
# 149: 348 non white 93
# 150: 348 gun black 81
# 151: 348 gun white 79
# 152: 348 non black 67

range(study3[, .N, .(s, S, RACE)]$N)
## [1] 50 93

nrow(study3[, .N, .(s)])
## 38 subjects
</code></pre></div></div>

<p>Then I set up the same number of subjects / participants and an optimistic trial numbers.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nsubject &lt;- 38
ntrial &lt;- 100
dat &lt;- simulate(model, nsim = ntrial, nsub = nsubject, p.prior = pop.prior)
dmi &lt;- BindDataModel(dat, model)
ps &lt;- attr(dat, "parameters")
</code></pre></div></div>

<p>Next I started the sampling. This will take a few hours.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Set-up Priors --------
p.prior &lt;- BuildPrior(
  dists = rep("tnorm", npar),
  p1    = pop.mean,
  p2    = pop.scale*10,
  lower = c(rep(0, 2), rep(-5, 2), rep(0, 4)),
  upper = c(rep(10, 2), rep(7, 2), rep(5, 4)))
mu.prior &lt;- BuildPrior(
  dists = rep("tnorm", npar),
  p1    = pop.mean,
  p2    = pop.scale*10,
  lower = c(rep(0, 2), rep(-5, 2), rep(0, 4)),
  upper = c(rep(10, 2), rep(7, 2), rep(5, 4)))
sigma.prior &lt;- BuildPrior(
  dists = rep("beta", npar),
  p1    = rep(1, npar),
  p2    = rep(1, npar),
  upper = rep(2, npar))
names(sigma.prior) &lt;- GetPNames(model)
pp.prior &lt;- list(mu.prior, sigma.prior)

## Sampling ----------
hsam &lt;- run(StartNewHypersamples(5e2, dmi, p.prior, pp.prior, 16),
  pm = .3, hpm = .3)
hsam &lt;- run(RestartHypersamples(5e2, hsam, thin = 32),
  pm = .3, hpm = .3) ## 3 hrs
hsam &lt;- run(RestartHypersamples(5e2, hsam, thin = 16),
  pm = .3, hpm = .3) ## 90 mins

save(model, pop.prior, nsubject, ntrial, dat, dmi, hsam,
     file = "data/hierarchical/shoot-decision-recovery.rda")
</code></pre></div></div>

<p>As usual, I checked the model so as to know it is reliable.</p>

<ol>
  <li>Trace plots of posterior log-likelihood at hyper level</li>
  <li>Trace plots of the hyper parameters</li>
  <li>Trace plots of posterior log-likelihood at the data level</li>
  <li>Trace plots of each DDM parameters for each participants</li>
  <li>Posterior density plots (i.e., marginal posterior distributions) for the hyper parameters</li>
  <li>Posterior density plots the DDM parameters for each parameters</li>
  <li>Brook and Gelman potential scale reduction factors</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plot(hsam, hyper = TRUE)                           ## 1.
plot(hsam, hyper = TRUE, pll = FALSE)              ## 2.
plot(hsam)                                         ## 3.
plot(hsam, pll = FALSE)                            ## 4.
plot(hsam, hyper = TRUE, pll = FALSE, den = TRUE)  ## 5.
plot(hsam, pll = FALSE, den = TRUE)                ## 6.
rhat &lt;- hgelman(hsam)                              ## 7.
## Diagnosing theta for many participants separately
## Diagnosing the hyper parameters, phi
## hyper     1     2     3     4     5     6     7     8     9    10    11    12    13    14 
##  1.06  1.00  1.00  1.00  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01 
##    15    16    17    18    19    20    21    22    23    24    25    26    27    28    29 
##  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01 
##    30    31    32    33    34    35    36    37    38 
##  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.01  1.03 
</code></pre></div></div>

<p>Then, I checked if my race-threshold model can recover the parameters.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hest1 &lt;- summary(hsam, recovery = TRUE, hyper = TRUE, ps = pop.mean,  type = 1)
hest2 &lt;- summary(hsam, recovery = TRUE, hyper = TRUE, ps = pop.scale, type = 2)
ests &lt;- summary(hsam, recovery = TRUE, ps = ps)

## Summary each participant separately
##        a.E   a.A   v.G   v.N     z    sz    sv    t0
## Mean  1.58  2.61  4.12  3.00  0.48  0.32  1.02  0.22
## True  1.69  2.50  2.94  2.08  0.51  0.33  1.02  0.19
## Diff  0.11 -0.11 -1.18 -0.92  0.03  0.00  0.00 -0.02
## Sd    0.49  0.80  0.39  0.59  0.10  0.12  0.39  0.05
## True  0.46  0.82  0.44  0.51  0.10  0.09  0.35  0.05
## Diff -0.04  0.02  0.05 -0.08 -0.01 -0.03 -0.04  0.00

lapply(list(hest1, hest2), round, 2)
## Mean
##                 a.A  a.E    sv   sz   t0  v.G  v.N     z
## True           2.50 1.50  1.00 0.30 0.20 3.00 2.00  0.50
## 2.5% Estimate  2.32 1.39  0.58 0.09 0.20 3.88 2.75  0.44
## 50% Estimate   2.60 1.57  0.98 0.31 0.22 4.11 3.00  0.48
## 97.5% Estimate 2.89 1.75  1.18 0.39 0.23 4.36 3.25  0.51
## Median-True    0.10 0.07 -0.02 0.01 0.02 1.11 1.00 -0.02


</code></pre></div></div>

<p>The recovery study supports the hypothesis that the race-threshold model 
can recover the parameters reliably. Therefore, if this model is a true
model, we can use it to confirm or reject the hypothesis that 
a police office has a higher shoot threshold towards a black than 
a white target (i.e., <em>a.A &gt; a.E</em>). Both at the level of individual
participants and at the level of hyper parameters. Of course, this
presumes that the hierarchical race-threshold model is an appropriate
model to better reflect the true phenomenon. That is, if the data do
reflect this hypothesis, my hierarchical DDM is able to reveal it. I
will return to the technique of model selection in a later tutorial.
Note without highly efficient software, like <em>ggdmc</em>, the model
selection work is very difficult to conduct.</p>

<p>Another strength in <em>ggdmc</em> (as well as DMC), relative to the
Python-HDDM (Wiecki, Sofer &amp; Frank, 2013) is that <em>ggdmc</em> estimates
the DDM variabilities at the hyper level <sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>. I will return this
particular strength of <em>ggdmc</em> in another tutorial.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## SD
##                 a.A  a.E   sv   sz   t0  v.G  v.N    z
## True           0.80 0.50 0.30 0.10 0.05 0.50 0.50 0.10
## 2.5% Estimate  0.67 0.41 0.33 0.10 0.04 0.34 0.50 0.09
## 50% Estimate   0.85 0.52 0.50 0.17 0.05 0.52 0.67 0.11
## 97.5% Estimate 1.14 0.71 0.85 0.32 0.07 0.74 0.90 0.14
## Median-True    0.05 0.02 0.20 0.07 0.00 0.02 0.17 0.01
</code></pre></div></div>

<p>Now I am ready to fit the empirical data with the race-threshold model.</p>

<h2 id="reference">Reference</h2>
<p>Pleskac, T.J., Cesario, J. &amp; Johnson, D.J. (2017). How race affects evidence accumulation during the decision to shoot.
<em>Psychonomic Bulletin &amp; Review</em>, 1-30. https://doi.org/10.3758/s13423-017-1369-6</p>

<p>Wong, J. C. (2016, Aprial, 18). <a href="https://www.theguardian.com/world/2016/apr/18/peter-liang-akai-gurley-killing-asian-american-response">‘Scapegoated?’ The police killing that left Asian Americans angry – and divided</a>.
<em>The Guardian</em>.</p>

<p><a href="https://www.nbcnews.com/news/asian-america/chinese-community-reels-after-brooklyn-nypd-shooting-n273931">Chinese Community Reels After Brooklyn NYPD Shooting</a>. (2014, December 24). <em>NBC News</em>.</p>

<p><a href="https://www.economist.com/leaders/2014/12/11/americas-police-on-trial">American’s police on trial</a>. (2014, December, 11). <em>The Economist</em>.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>If one wishes to estimate the DDM variabilities at the hyper level in Python-HDDM, s/he would need to modify the Python-HDDM source codes, which is possible but less convenient. <a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

			</article>
		</section>

		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});

			
		</script>

		  
		</script>
	</body>
</html>
